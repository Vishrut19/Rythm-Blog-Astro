---
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";

type Props = {
  post: CollectionEntry<"posts">;
};

const { post } = Astro.props;

// Format date
const formatDate = (dateString: string) => {
  const date = new Date(dateString);
  return date.toLocaleDateString("en-US", {
    year: "numeric",
    month: "long",
    day: "numeric",
  });
};
---

<article
  class="card bg-base-100 shadow-lg hover:shadow-xl transition-shadow duration-300 h-full border border-base-200"
>
  <figure class="overflow-hidden rounded-t-2xl">
    <a href={`/blog/${post.slug}`} class="block">
      {
        post.data.image && (
          <Image
            src={post.data.image}
            alt={post.data.title}
            width={600}
            height={400}
            class="w-full h-64 object-cover hover:scale-105 transition-transform duration-300"
          />
        )
      }
    </a>
  </figure>
  <div class="card-body">
    <div class="text-sm text-base-content/60 mb-2">
      {formatDate(post.data.date)}
    </div>
    <h2 class="card-title text-2xl lg:text-3xl mb-3">
      <a
        href={`/blog/${post.slug}`}
        class="hover:text-primary transition-colors no-underline"
      >
        {post.data.title}
      </a>
    </h2>
    <p class="text-base-content/70 text-base lg:text-lg line-clamp-3 mb-4">
      {post.body}
    </p>
    <div class="card-actions justify-end">
      <a
        href={`/blog/${post.slug}`}
        class="btn btn-primary btn-sm no-underline inline-flex items-center gap-2"
      >
        Read More
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-4 w-4"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 5l7 7-7 7"></path>
        </svg>
      </a>
    </div>
  </div>
</article>
